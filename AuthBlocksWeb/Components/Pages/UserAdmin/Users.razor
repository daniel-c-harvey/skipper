@using AuthBlocksWeb.ApiClients
@using AuthBlocksModels.Entities.Identity
@using AuthBlocksModels.InputModels
@using AuthBlocksModels.Models
@using Web.Shared.Maintenance.Entities

@attribute [HierarchicalRoleAuthorize(SystemRoleConstants.UserAdmin)]
@page "/useradmin/users"

<ModelView T="UserInputModel"
           TModel="UserModel"
           TEntity="ApplicationUser"
           TClient="UsersClient"
           TClientConfig="UserClientConfig"
           TEditModal="UserEditModal"
           ModelDisplayName="User"
           Placeholder="Search users..."
           PageRoute="useradmin/users"
           Title="Users">
    <Columns>
        <PropertyColumn Property="x => x.UserName" Title="Name"/>
        <PropertyColumn Property="x => x.Email" Title="Email"/>
        <PropertyColumn Property="x => x.PhoneNumber" Title="Phone #"/>
        <PropertyColumn Property="x => x.AccessFailedCount" Title="Access Fails"/>
        <PropertyColumn Property="x => x.TwoFactorEnabled" Title="Two Factor"/>
        <TemplateColumn>
            <CellTemplate Context="cell">
                <MudButton Variant="Variant.Text"
                           Color="Color.Tertiary"
                           OnClick="@(() => ResetPassword(cell.Item))">
                    Reset Password
                </MudButton>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</ModelView>

@code {
    private async Task ResetPassword(UserInputModel? item)
    {
        
    }
}