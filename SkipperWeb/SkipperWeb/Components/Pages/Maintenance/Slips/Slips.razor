@using Microsoft.AspNetCore.Authorization
@using AuthBlocksWeb.HierarchicalAuthorize
@using SkipperModels.Models
@using SkipperModels.Entities
@using SkipperModels.InputModels
@using SkipperWeb.ApiClients
@using SkipperWeb.Components.Pages.Maintenance.Entities
@using SkipperWeb.Shared.UI

@attribute [HierarchicalRoleAuthorize("Admin")]
@page "/maintenance/slips"

<ModelView T="SlipInputModel"
           TModel="SlipModel"
           TEntity="SlipEntity"
           TEditModal="EditSlipModal"
           TClient="SlipClient"
           TClientConfig="SlipClientConfig"
           Title="Slips"
           ModelDisplayName="Slip"
           PageRoute="maintenance/slips"
           Placeholder="Search for slips...">
    <Columns>
        <PropertyColumn Property="x => x.SlipNumber" Title="Slip Number" />
        <PropertyColumn Property="x => x.SlipClassification.Name" Title="Classification" />
        <PropertyColumn Property="x => x.LocationCode" Title="Location" />
        <TemplateColumn>
            <CellTemplate Context="row">
                <SlipStatusChip Status="@row?.Item?.Status"/>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</ModelView>
