@using NetBlocks.Utilities
@using SkipperModels.Converters
@using SkipperModels.Models
@using SkipperModels.InputModels
@using Web.Shared.Maintenance.Entities

@attribute [HierarchicalRoleAuthorize]
@page "/maintenance/vesselownercustomers"

<ModelView T="VesselOwnerCustomerInputModel"
           TModel="VesselOwnerCustomerModel"
           TEditModal="EditVesselOwnerCustomerModal"
           TViewModel="VesselOwnerCustomersViewModel"
           TConverter="VesselOwnerCustomerModelToInputConverter"
           Title="Customers"
           ModelDisplayName="Customer"
           PageRoute="maintenance/vesselownercustomers"
           Placeholder="Search for customers...">
    <Columns>
        <PropertyColumn Property="x => x.Name"/>
        <PropertyColumn Property="x => x.AccountNumber" Title="Account #"/>
        <PropertyColumn Property="x => x.LicenseNumber" Title="License #"/>
        <PropertyColumn Property="x => x.LicenseExpiryDate" Title="License Expiration"/>
        <PropertyColumn Property="x => x.Contact.Email"/>
        <PropertyColumn Property="x => x.Contact.PhoneNumber" Title="Phone #"/>
        <PropertyColumn Property="x => x.Vessels.Count()" Title="Vessel Count"/>
    </Columns>
</ModelView>