@using Microsoft.AspNetCore.Authorization
@using AuthBlocksWeb.HierarchicalAuthorize
@using NetBlocks.Utilities
@using SkipperWeb.Components.Pages.Maintenance.Entities
@using SkipperModels.Models
@using SkipperModels.Entities
@using SkipperModels.InputModels
@using SkipperWeb.ApiClients
@inject ModelPageViewModel<VesselModel, VesselEntity, VesselClient, VesselClientConfig> ViewModel

@inject VesselClient Client
@inject NavigationManager Nav

@attribute [HierarchicalRoleAuthorize]
@page "/maintenance/vessels"

<ModelView T="VesselInputModel"
           TModel="VesselModel"
           TEntity="VesselEntity"
           TEditModal="EditVesselModal"
           TClient="VesselClient"
           TClientConfig="VesselClientConfig"
           Title="Vessels"
           ModelDisplayName="Vessel"
           PageRoute="maintenance/vessels"
           Placeholder="Search for vessels...">
    <Columns>
        <PropertyColumn Property="x => x.RegistrationNumber" Title="Registration #"/>
        <PropertyColumn Property="x => x.Name"/>
        <PropertyColumn Property="x => LengthMeasureConverter.ToImperialString(x.Length, 16)"/>
        <PropertyColumn Property="x => LengthMeasureConverter.ToImperialString(x.Beam, 16)"/>
        <PropertyColumn Property="x => x.VesselType" Title="Type"/>
    </Columns>
</ModelView>