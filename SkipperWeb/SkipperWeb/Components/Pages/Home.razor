@using SkipperWeb.Components.Layout
@using Microsoft.AspNetCore.Components.Authorization
@using SkipperWeb.Components.Redirectors
@using AuthBlocksWeb.HierarchicalAuthorize

@page "/"
@layout MainHomeLayout

@inject NavigationManager NavigationManager

<PageTitle>Home</PageTitle>

<HierarchicalRoleAuthorizeView>
    <Authorized>
        <RedirectToDashboard/>
    </Authorized>
    <NotAuthorized>
        <MudContainer>
            <MudStack AlignItems="AlignItems.Center">
                <MudImage Fluid="true" Src="img/skipper-hero.png"/>
                <MudText Typo="Typo.h2" Class="bold text-justify">SKIPPER</MudText>
                <MudText Typo="Typo.h6" Class="text-justify">ERP FOR MARINA MANAGEMENT</MudText>
                <MudSpacer/>
                <MudContainer MaxWidth="MaxWidth.Small" Class="d-flex justify-center">
                    <MudGrid Class="pa-6">
                        <MudItem xs="12">
                            <MudButton Color="Color.Primary" 
                                       Variant="Variant.Filled" 
                                       Class="d-flex align-center"
                                       Href="@($"account/login?returnUrl={Uri.EscapeDataString("dashboard")}")">
                                Login
                                </MudButton>
                        </MudItem>
                        <MudItem xs="12" sm="6">
                            <MudText Align="Align.Center" Typo="Typo.body2" Color="Color.Tertiary">Have a registration code? </MudText>
                        </MudItem>
                        <MudItem xs="12" sm="6">
                            <MudButton Href="@($"account/register?returnUrl={Uri.EscapeDataString("account/login")}")" 
                                       Variant="Variant.Outlined"
                                       Class="d-flex align-center">
                                Register Account
                            </MudButton>
                        </MudItem>
                    </MudGrid>
                </MudContainer>
            </MudStack>
        </MudContainer>
    </NotAuthorized>
</HierarchicalRoleAuthorizeView>
